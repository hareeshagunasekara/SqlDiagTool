{
  "database": {
    "name": "MedTrack_Clinical",
    "server": "localhost,1433",
    "scannedAt": "2026-02-17T11:57:56.898705Z"
  },
  "summary": {
    "pass": 8,
    "warn": 5,
    "fail": 1,
    "durationMs": 212
  },
  "categories": [
    {
      "name": "Data Type Consistency",
      "checks": [
        {
          "id": 9,
          "code": "FK_TYPE_MISMATCH",
          "status": "PASS",
          "title": "ForeignKey Type Mismatch",
          "message": "No FK type mismatches found",
          "items": null,
          "durationMs": 11,
          "itemCount": 0,
          "whatsWrong": null,
          "whyItMatters": null,
          "whatToDoNext": null
        },
        {
          "id": 10,
          "code": "MONEY_AS_FLOAT",
          "status": "PASS",
          "title": "Money Stored As Float",
          "message": "No money-like columns stored as float/real",
          "items": null,
          "durationMs": 7,
          "itemCount": 0,
          "whatsWrong": null,
          "whyItMatters": null,
          "whatToDoNext": null
        }
      ]
    },
    {
      "name": "Index Health",
      "checks": [
        {
          "id": 11,
          "code": "MISSING_INDEX_SUGGESTIONS",
          "status": "PASS",
          "title": "Missing Index Suggestions",
          "message": "No missing index suggestions",
          "items": null,
          "durationMs": 1,
          "itemCount": 0,
          "whatsWrong": null,
          "whyItMatters": null,
          "whatToDoNext": null
        },
        {
          "id": 12,
          "code": "UNUSED_INDEXES",
          "status": "PASS",
          "title": "Unused Indexes",
          "message": "No unused indexes found",
          "items": null,
          "durationMs": 7,
          "itemCount": 0,
          "whatsWrong": null,
          "whyItMatters": null,
          "whatToDoNext": null
        },
        {
          "id": 13,
          "code": "FRAGMENTATION",
          "status": "PASS",
          "title": "Fragmentation",
          "message": "No significant index fragmentation",
          "items": null,
          "durationMs": 6,
          "itemCount": 0,
          "whatsWrong": null,
          "whyItMatters": null,
          "whatToDoNext": null
        }
      ]
    },
    {
      "name": "Keys \u0026 Constraints",
      "checks": [
        {
          "id": 1,
          "code": "MISSING_PK",
          "status": "PASS",
          "title": "Missing Primary Keys",
          "message": "All tables have primary keys defined",
          "items": null,
          "durationMs": 74,
          "itemCount": 0,
          "whatsWrong": null,
          "whyItMatters": null,
          "whatToDoNext": null
        },
        {
          "id": 5,
          "code": "MISSING_CHECK_CONSTRAINTS",
          "status": "FAIL",
          "title": "Missing Check Constraints",
          "message": "Query failed | Code: 208 | Invalid object name \u0027sys.check_constraint_columns\u0027.",
          "items": null,
          "durationMs": 14,
          "itemCount": 0,
          "whatsWrong": "Found 0 status-like column(s) without check constraint",
          "whyItMatters": "Invalid values can get stored and break application logic.",
          "whatToDoNext": "Add check constraints for valid values (see Details)."
        },
        {
          "id": 6,
          "code": "MISSING_UNIQUE_CONSTRAINTS",
          "status": "WARNING",
          "title": "Missing Unique Constraints",
          "message": "Found 2 column(s): dbo.Patients.Email, dbo.StaffUsers.Email",
          "items": [
            "dbo.Patients.Email",
            "dbo.StaffUsers.Email"
          ],
          "durationMs": 6,
          "itemCount": 2,
          "whatsWrong": "Found 2 column(s) that look like Email/Sku without unique constraint",
          "whyItMatters": "Duplicates can creep in and break business rules.",
          "whatToDoNext": "Add unique constraints (or unique indexes) for the columns in Details."
        }
      ]
    },
    {
      "name": "Query Performance",
      "checks": [
        {
          "id": 14,
          "code": "TOP_SLOW_QUERIES",
          "status": "PASS",
          "title": "Top Slow Queries",
          "message": "No query stats available (or empty)",
          "items": null,
          "durationMs": 32,
          "itemCount": 0,
          "whatsWrong": null,
          "whyItMatters": null,
          "whatToDoNext": null
        }
      ]
    },
    {
      "name": "Referential Integrity",
      "checks": [
        {
          "id": 7,
          "code": "MISSING_FOREIGN_KEYS",
          "status": "WARNING",
          "title": "Missing Foreign Keys",
          "message": "Found 15 relationship(s) without FK: dbo.Appointments.DoctorId -\u003E dbo.Doctors; dbo.Appointments.PatientId -\u003E dbo.Patients; dbo.Billing.AppointmentId -\u003E dbo.Appointments; dbo.Billing.PatientId -\u003E dbo.Patients; dbo.Diagnoses.DoctorId -\u003E dbo.Doctors; dbo.Diagnoses.PatientId -\u003E dbo.Patients; dbo.InsuranceClaims.PatientId -\u003E dbo.Patients; dbo.InsuranceClaims.TreatmentId -\u003E dbo.Treatments; dbo.MedicalRecords.PatientId -\u003E dbo.Patients; dbo.Prescriptions.DoctorId -\u003E dbo.Doctors ... and 5 more",
          "items": [
            "dbo.Appointments.DoctorId -\u003E dbo.Doctors",
            "dbo.Appointments.PatientId -\u003E dbo.Patients",
            "dbo.Billing.AppointmentId -\u003E dbo.Appointments",
            "dbo.Billing.PatientId -\u003E dbo.Patients",
            "dbo.Diagnoses.DoctorId -\u003E dbo.Doctors",
            "dbo.Diagnoses.PatientId -\u003E dbo.Patients",
            "dbo.InsuranceClaims.PatientId -\u003E dbo.Patients",
            "dbo.InsuranceClaims.TreatmentId -\u003E dbo.Treatments",
            "dbo.MedicalRecords.PatientId -\u003E dbo.Patients",
            "dbo.Prescriptions.DoctorId -\u003E dbo.Doctors",
            "dbo.Prescriptions.PatientId -\u003E dbo.Patients",
            "dbo.SystemLogs.UserId -\u003E dbo.StaffUsers",
            "dbo.Treatments.DiagnosisId -\u003E dbo.Diagnoses",
            "dbo.Treatments.PatientId -\u003E dbo.Patients",
            "dbo.WardAssignments.PatientId -\u003E dbo.Patients"
          ],
          "durationMs": 16,
          "itemCount": 15,
          "whatsWrong": "Found 15 relationship(s) without a foreign key",
          "whyItMatters": "Without FKs, the database won\u0027t enforce referential integrity and deletes can leave orphaned or inconsistent data.",
          "whatToDoNext": "Add foreign keys for the pairs listed in Details, or document why they\u0027re intentional."
        },
        {
          "id": 8,
          "code": "ORPHAN_RECORDS",
          "status": "WARNING",
          "title": "Orphan Records",
          "message": "Found orphan(s): Appointments.PatientId (1 orphan(s)); Billing.AppointmentId (1 orphan(s)); Diagnoses.PatientId (1 orphan(s)); MedicalRecords.PatientId (2 orphan(s)); Prescriptions.DoctorId (1 orphan(s)); SystemLogs.UserId (3 orphan(s)); WardAssignments.PatientId (1 orphan(s))",
          "items": [
            "Appointments.PatientId (1 orphan(s))",
            "Billing.AppointmentId (1 orphan(s))",
            "Diagnoses.PatientId (1 orphan(s))",
            "MedicalRecords.PatientId (2 orphan(s))",
            "Prescriptions.DoctorId (1 orphan(s))",
            "SystemLogs.UserId (3 orphan(s))",
            "WardAssignments.PatientId (1 orphan(s))"
          ],
          "durationMs": 26,
          "itemCount": 7,
          "whatsWrong": "Found 7 orphaned record set(s)",
          "whyItMatters": "Child rows point to missing parents; this can break reports and joins.",
          "whatToDoNext": "Fix or delete the orphan rows, then add or fix foreign keys so it doesn\u0027t happen again."
        }
      ]
    },
    {
      "name": "Schema \u0026 Structure",
      "checks": [
        {
          "id": 2,
          "code": "HEAP_TABLES",
          "status": "PASS",
          "title": "Heap Tables",
          "message": "No heap tables found",
          "items": null,
          "durationMs": 3,
          "itemCount": 0,
          "whatsWrong": null,
          "whyItMatters": null,
          "whatToDoNext": null
        },
        {
          "id": 3,
          "code": "EXTREME_NULLABLE_RATIO",
          "status": "WARNING",
          "title": "Extreme Nullable Ratio",
          "message": "Found 12 table(s) with \u003E50% nullable columns: dbo.Appointments, dbo.Billing, dbo.Diagnoses, dbo.Doctors, dbo.InsuranceClaims, dbo.MedicalRecords, dbo.Patients, dbo.Prescriptions, dbo.StaffUsers, dbo.SystemLogs, dbo.Treatments, dbo.WardAssignments",
          "items": [
            "dbo.Appointments",
            "dbo.Billing",
            "dbo.Diagnoses",
            "dbo.Doctors",
            "dbo.InsuranceClaims",
            "dbo.MedicalRecords",
            "dbo.Patients",
            "dbo.Prescriptions",
            "dbo.StaffUsers",
            "dbo.SystemLogs",
            "dbo.Treatments",
            "dbo.WardAssignments"
          ],
          "durationMs": 5,
          "itemCount": 12,
          "whatsWrong": "Found 12 table(s) with \u003E50% nullable columns",
          "whyItMatters": "Too many nulls can make queries and reporting harder and suggest missing design clarity.",
          "whatToDoNext": "Review table design; make columns NOT NULL where a value is always required."
        },
        {
          "id": 4,
          "code": "JUNCTION_MISSING_KEY",
          "status": "WARNING",
          "title": "Suspected Junction Missing Key",
          "message": "Found 9 table(s): dbo.Appointments, dbo.Billing, dbo.Diagnoses, dbo.InsuranceClaims, dbo.MedicalRecords, dbo.Prescriptions, dbo.SystemLogs, dbo.Treatments, dbo.WardAssignments",
          "items": [
            "dbo.Appointments",
            "dbo.Billing",
            "dbo.Diagnoses",
            "dbo.InsuranceClaims",
            "dbo.MedicalRecords",
            "dbo.Prescriptions",
            "dbo.SystemLogs",
            "dbo.Treatments",
            "dbo.WardAssignments"
          ],
          "durationMs": 4,
          "itemCount": 9,
          "whatsWrong": "Found 9 suspected junction table(s) without composite key",
          "whyItMatters": "Duplicate links can appear and complicate joins.",
          "whatToDoNext": "Add a composite primary key (or unique constraint) on the two FK columns."
        }
      ]
    }
  ]
}