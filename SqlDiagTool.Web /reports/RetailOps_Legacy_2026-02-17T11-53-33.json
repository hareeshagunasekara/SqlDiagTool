{
  "database": {
    "name": "RetailOps_Legacy",
    "server": "localhost,1433",
    "scannedAt": "2026-02-17T11:53:33.363279Z"
  },
  "summary": {
    "pass": 4,
    "warn": 9,
    "fail": 1,
    "durationMs": 206
  },
  "categories": [
    {
      "name": "Data Type Consistency",
      "checks": [
        {
          "id": 9,
          "code": "FK_TYPE_MISMATCH",
          "status": "WARNING",
          "title": "ForeignKey Type Mismatch",
          "message": "Found 1 mismatch(es): dbo.Orders.CustomerId (nvarchar) vs dbo.Customers.CustomerId (int)",
          "items": [
            "dbo.Orders.CustomerId (nvarchar) vs dbo.Customers.CustomerId (int)"
          ],
          "durationMs": 12,
          "itemCount": 1,
          "whatsWrong": "Found 1 FK/column type mismatch(es)",
          "whyItMatters": "Type mismatches can cause subtle bugs and poor index use.",
          "whatToDoNext": "Align types between referenced and referencing columns (see Details)."
        },
        {
          "id": 10,
          "code": "MONEY_AS_FLOAT",
          "status": "WARNING",
          "title": "Money Stored As Float",
          "message": "Found 4 column(s): dbo.OrderItems.UnitPrice, dbo.Orders.TotalAmount, dbo.Payments.CashAmount, dbo.Products.Price",
          "items": [
            "dbo.OrderItems.UnitPrice",
            "dbo.Orders.TotalAmount",
            "dbo.Payments.CashAmount",
            "dbo.Products.Price"
          ],
          "durationMs": 10,
          "itemCount": 4,
          "whatsWrong": "Found 4 column(s) that look like money but use float/real",
          "whyItMatters": "Float can cause rounding errors in money; use decimal for currency.",
          "whatToDoNext": "Change those columns to decimal in Details, or document why float is acceptable."
        }
      ]
    },
    {
      "name": "Index Health",
      "checks": [
        {
          "id": 11,
          "code": "MISSING_INDEX_SUGGESTIONS",
          "status": "PASS",
          "title": "Missing Index Suggestions",
          "message": "No missing index suggestions",
          "items": null,
          "durationMs": 3,
          "itemCount": 0,
          "whatsWrong": null,
          "whyItMatters": null,
          "whatToDoNext": null
        },
        {
          "id": 12,
          "code": "UNUSED_INDEXES",
          "status": "PASS",
          "title": "Unused Indexes",
          "message": "No unused indexes found",
          "items": null,
          "durationMs": 7,
          "itemCount": 0,
          "whatsWrong": null,
          "whyItMatters": null,
          "whatToDoNext": null
        },
        {
          "id": 13,
          "code": "FRAGMENTATION",
          "status": "PASS",
          "title": "Fragmentation",
          "message": "No significant index fragmentation",
          "items": null,
          "durationMs": 7,
          "itemCount": 0,
          "whatsWrong": null,
          "whyItMatters": null,
          "whatToDoNext": null
        }
      ]
    },
    {
      "name": "Keys \u0026 Constraints",
      "checks": [
        {
          "id": 1,
          "code": "MISSING_PK",
          "status": "WARNING",
          "title": "Missing Primary Keys",
          "message": "Found 2 table(s) with no PK: dbo.AuditLogs, dbo.OrderItems",
          "items": [
            "dbo.AuditLogs",
            "dbo.OrderItems"
          ],
          "durationMs": 36,
          "itemCount": 2,
          "whatsWrong": "Found 2 table(s) with no primary key",
          "whyItMatters": "Updates and deletes can\u0027t target rows reliably; tools and ORMs expect a key.",
          "whatToDoNext": "Add a primary key to each table listed in Details."
        },
        {
          "id": 5,
          "code": "MISSING_CHECK_CONSTRAINTS",
          "status": "FAIL",
          "title": "Missing Check Constraints",
          "message": "Query failed | Code: 208 | Invalid object name \u0027sys.check_constraint_columns\u0027.",
          "items": null,
          "durationMs": 18,
          "itemCount": 0,
          "whatsWrong": "Found 0 status-like column(s) without check constraint",
          "whyItMatters": "Invalid values can get stored and break application logic.",
          "whatToDoNext": "Add check constraints for valid values (see Details)."
        },
        {
          "id": 6,
          "code": "MISSING_UNIQUE_CONSTRAINTS",
          "status": "WARNING",
          "title": "Missing Unique Constraints",
          "message": "Found 3 column(s): dbo.Customers.Email, dbo.Employees.Email, dbo.Products.Sku",
          "items": [
            "dbo.Customers.Email",
            "dbo.Employees.Email",
            "dbo.Products.Sku"
          ],
          "durationMs": 6,
          "itemCount": 3,
          "whatsWrong": "Found 3 column(s) that look like Email/Sku without unique constraint",
          "whyItMatters": "Duplicates can creep in and break business rules.",
          "whatToDoNext": "Add unique constraints (or unique indexes) for the columns in Details."
        }
      ]
    },
    {
      "name": "Query Performance",
      "checks": [
        {
          "id": 14,
          "code": "TOP_SLOW_QUERIES",
          "status": "PASS",
          "title": "Top Slow Queries",
          "message": "No query stats available (or empty)",
          "items": null,
          "durationMs": 60,
          "itemCount": 0,
          "whatsWrong": null,
          "whyItMatters": null,
          "whatToDoNext": null
        }
      ]
    },
    {
      "name": "Referential Integrity",
      "checks": [
        {
          "id": 7,
          "code": "MISSING_FOREIGN_KEYS",
          "status": "WARNING",
          "title": "Missing Foreign Keys",
          "message": "Found 7 relationship(s) without FK: dbo.Addresses.CustomerId -\u003E dbo.Customers; dbo.InventoryMovements.ProductId -\u003E dbo.Products; dbo.OrderItems.OrderNumber -\u003E dbo.Orders; dbo.OrderItems.ProductId -\u003E dbo.Products; dbo.Orders.CustomerId -\u003E dbo.Customers; dbo.Payments.OrderNumber -\u003E dbo.Orders; dbo.Shipments.OrderNumber -\u003E dbo.Orders",
          "items": [
            "dbo.Addresses.CustomerId -\u003E dbo.Customers",
            "dbo.InventoryMovements.ProductId -\u003E dbo.Products",
            "dbo.OrderItems.OrderNumber -\u003E dbo.Orders",
            "dbo.OrderItems.ProductId -\u003E dbo.Products",
            "dbo.Orders.CustomerId -\u003E dbo.Customers",
            "dbo.Payments.OrderNumber -\u003E dbo.Orders",
            "dbo.Shipments.OrderNumber -\u003E dbo.Orders"
          ],
          "durationMs": 15,
          "itemCount": 7,
          "whatsWrong": "Found 7 relationship(s) without a foreign key",
          "whyItMatters": "Without FKs, the database won\u0027t enforce referential integrity and deletes can leave orphaned or inconsistent data.",
          "whatToDoNext": "Add foreign keys for the pairs listed in Details, or document why they\u0027re intentional."
        },
        {
          "id": 8,
          "code": "ORPHAN_RECORDS",
          "status": "WARNING",
          "title": "Orphan Records",
          "message": "Found orphan(s): OrderItems.ProductId (1 orphan(s))",
          "items": [
            "OrderItems.ProductId (1 orphan(s))"
          ],
          "durationMs": 21,
          "itemCount": 1,
          "whatsWrong": "Found 1 orphaned record set(s)",
          "whyItMatters": "Child rows point to missing parents; this can break reports and joins.",
          "whatToDoNext": "Fix or delete the orphan rows, then add or fix foreign keys so it doesn\u0027t happen again."
        }
      ]
    },
    {
      "name": "Schema \u0026 Structure",
      "checks": [
        {
          "id": 2,
          "code": "HEAP_TABLES",
          "status": "WARNING",
          "title": "Heap Tables",
          "message": "Found 2 heap table(s): dbo.AuditLogs, dbo.OrderItems",
          "items": [
            "dbo.AuditLogs",
            "dbo.OrderItems"
          ],
          "durationMs": 3,
          "itemCount": 2,
          "whatsWrong": "Found 2 heap table(s) (no clustered index)",
          "whyItMatters": "Heaps can slow down range scans and leave rows in random order.",
          "whatToDoNext": "Consider adding a clustered index; often the primary key is clustered."
        },
        {
          "id": 3,
          "code": "EXTREME_NULLABLE_RATIO",
          "status": "WARNING",
          "title": "Extreme Nullable Ratio",
          "message": "Found 10 table(s) with \u003E50% nullable columns: dbo.Addresses, dbo.AuditLogs, dbo.Customers, dbo.Employees, dbo.InventoryMovements, dbo.OrderItems, dbo.Orders, dbo.Payments, dbo.Products, dbo.Shipments",
          "items": [
            "dbo.Addresses",
            "dbo.AuditLogs",
            "dbo.Customers",
            "dbo.Employees",
            "dbo.InventoryMovements",
            "dbo.OrderItems",
            "dbo.Orders",
            "dbo.Payments",
            "dbo.Products",
            "dbo.Shipments"
          ],
          "durationMs": 4,
          "itemCount": 10,
          "whatsWrong": "Found 10 table(s) with \u003E50% nullable columns",
          "whyItMatters": "Too many nulls can make queries and reporting harder and suggest missing design clarity.",
          "whatToDoNext": "Review table design; make columns NOT NULL where a value is always required."
        },
        {
          "id": 4,
          "code": "JUNCTION_MISSING_KEY",
          "status": "WARNING",
          "title": "Suspected Junction Missing Key",
          "message": "Found 3 table(s): dbo.Addresses, dbo.AuditLogs, dbo.InventoryMovements",
          "items": [
            "dbo.Addresses",
            "dbo.AuditLogs",
            "dbo.InventoryMovements"
          ],
          "durationMs": 4,
          "itemCount": 3,
          "whatsWrong": "Found 3 suspected junction table(s) without composite key",
          "whyItMatters": "Duplicate links can appear and complicate joins.",
          "whatToDoNext": "Add a composite primary key (or unique constraint) on the two FK columns."
        }
      ]
    }
  ]
}